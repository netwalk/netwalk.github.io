webpackJsonp([0],{0:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n(1);var o=n(5),i=r(o),a=n(157),u=n(158),l=r(u),c=n(197),f=r(c),d=n(198),s=r(d),p=n(199),v=(r(p),n(200)),h=r(v),y=n(243),g=r(y),m=document.createElement("div");document.body.appendChild(m);var b={width:document.documentElement.clientWidth},w={width:150,height:100};b.width>420&&(w.width=200,w.height=100),b.width>520&&(w.width=400,w.height=100),(0,a.render)(i["default"].createElement(l["default"],null,i["default"].createElement(f["default"],null),i["default"].createElement(s["default"],null),i["default"].createElement(h["default"],{width:w.width,height:w.height}),i["default"].createElement(g["default"],null)),m)},1:function(e,t){},158:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var l=u.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=i,n=a,r=!0,u=c=void 0}},l=n(5),c=r(l),f=n(159),d=r(f),s=n(162),p=r(s),v=function(e){function t(){o(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}i(t,e),a(t,[{key:"render",value:function(){return c["default"].createElement("div",{style:h},this.props.children)}}]);var n=t;return t=(0,p["default"])(t)||t,t=(0,d["default"])(t)||t}(l.Component);t["default"]=v;var h={width:"100%",margin:"auto",padding:"1em","@media (min-width: 640px)":{width:"640px"}};e.exports=t["default"]},197:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var l=u.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=i,n=a,r=!0,u=c=void 0}},l=n(5),c=r(l),f=n(159),d=r(f),s=n(162),p=r(s),v=function(e){function t(){o(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}i(t,e),a(t,[{key:"render",value:function(){return c["default"].createElement("h1",{style:h},"Netwalk")}}]);var n=t;return t=(0,d["default"])(t)||t,t=(0,p["default"])(t)||t}(l.Component);t["default"]=v;var h={color:"#8EC170",fontFamily:'"Courier New", "Courier", monospace',fontSize:"45px",fontWeight:100,margin:"1em 0 0",textAlign:"center","@media (min-width: 640px)":{fontSize:"75px"}};e.exports=t["default"]},198:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var l=u.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=i,n=a,r=!0,u=c=void 0}},l=n(5),c=r(l),f=n(199),d=r(f),s=n(159),p=r(s),v=n(162),h=r(v),y=function(e){function t(){o(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}i(t,e),a(t,[{key:"render",value:function(){return c["default"].createElement(d["default"],null,"Rotate pieces clockwise and connect all nodes ",c["default"].createElement("strong",null,"to the server!"))}}]);var n=t;return t=(0,h["default"])(t)||t,t=(0,p["default"])(t)||t}(l.Component);t["default"]=y,e.exports=t["default"]},199:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var l=u.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=i,n=a,r=!0,u=c=void 0}},l=n(5),c=r(l),f=n(159),d=r(f),s=n(162),p=r(s),v=function(e){function t(){o(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}i(t,e),a(t,[{key:"render",value:function(){return c["default"].createElement("p",{style:[h.base,this.props.styles]},this.props.children)}}]);var n=t;return t=(0,p["default"])(t)||t,t=(0,d["default"])(t)||t}(l.Component);t["default"]=v;var h={base:{color:"#7B7B7B",fontFamily:'"Helvetica Neue", "Helvetica", "Roboto", "Arial", sans-serif',fontSize:"16px","@media (min-width: 640px)":{fontSize:"22px"},fontWeight:"200",margin:"2em 0",lineHeight:"1.5em",textAlign:"center"}};e.exports=t["default"]},200:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var l=u.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=i,n=a,r=!0,u=c=void 0}},l=n(5),c=r(l),f=n(157),d=(r(f),n(201)),s=r(d),p=n(159),v=r(p),h=function(e){function t(){o(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}i(t,e),a(t,[{key:"render",value:function(){var e=this.props.width,t=this.props.height,n=50;e>=n?e-=e%n:e=n,t>=n?t-=t%n:t=n;var r=1,o=void 0;e>=t?o=e/(e/n)/r:t>e&&(o=t/(t/n)/r);var i=Math.floor(t/o),a=Math.floor(e/o);return c["default"].createElement(s["default"],{rows:i,columns:a,animate:!0,animationWait:100,randomize:!1})}}],[{key:"propTypes",value:{width:l.PropTypes.number,height:l.PropTypes.number},enumerable:!0},{key:"defaultProps",value:{width:300,height:300},enumerable:!0}]);var n=t;return t=(0,v["default"])(t)||t}(l.Component);t["default"]=h,e.exports=t["default"]},201:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var l=u.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=i,n=a,r=!0,u=c=void 0}},l=n(5),c=r(l),f=n(202),d=r(f),s=n(206),p=r(s),v=n(239),h=r(v),y=n(240),g=r(y),m=n(241),b=r(m),w=n(242),O=r(w),x=n(238),k=r(x),_=n(162),P=r(_),j=function(e){function t(e){o(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e),this.state={matrix:[],gameStarted:!1,gameEnded:!1,rows:this.props.rows}}i(t,e),a(t,null,[{key:"propTypes",value:{rows:l.PropTypes.number,columns:l.PropTypes.number,animate:l.PropTypes.bool,animationWait:l.PropTypes.number,randomize:l.PropTypes.bool},enumerable:!0},{key:"defaultProps",value:{rows:3,columns:5,animate:!0,animationWait:10,randomize:!0},enumerable:!0}]),a(t,[{key:"componentDidMount",value:function(){this.generateMatrix({rows:this.props.rows,columns:this.props.columns,animate:this.props.animate,animationWait:this.props.animationWait,randomize:this.props.randomize})}},{key:"render",value:function(){var e=void 0,t=void 0,n=void 0,r=void 0,o=void 0;return this.state.gameStarted||this.state.gameEnded||(e=c["default"].createElement(h["default"],{onPlay:this.onPlay.bind(this),title:"New Game"})),!this.state.gameStarted&&this.state.gameEnded&&(t=c["default"].createElement(h["default"],{onPlay:this.onPlay.bind(this),title:"Play again?"})),this.state.gameStarted||(n=c["default"].createElement(O["default"],{opacity:.6})),!this.state.gameStarted&&this.state.gameEnded&&(n=c["default"].createElement(O["default"],{opacity:.4})),this.state.gameStarted&&!this.state.gameEnded&&(r=c["default"].createElement(g["default"],{onTrigger:this.addRow.bind(this)}),this.state.rows>2&&(o=c["default"].createElement(b["default"],{onTrigger:this.removeRow.bind(this)}))),c["default"].createElement("div",{style:C.base},c["default"].createElement("div",{style:C.difficultyContainer},r,o),c["default"].createElement("div",{style:[!this.state.gameStarted&&!this.state.gameEnded&&C.blur]},c["default"].createElement(d["default"],{matrix:this.state.matrix,onRotate:this.rotateNode.bind(this)})),n,e,t)}},{key:"rotateNode",value:function(e){var t=this.Netwalk.rotateNode(e,this.state.matrix),n=this.Netwalk.isMatrixSolved(t),r=!n;this.setState(k["default"].extend(this.state,{matrix:t,gameStarted:r,gameEnded:n}))}},{key:"addRow",value:function(){this.generateMatrix({rows:this.state.rows+1,columns:this.props.columns,animate:!1,randomize:!0})}},{key:"removeRow",value:function(){this.state.rows>2&&this.generateMatrix({rows:this.state.rows-1,columns:this.props.columns,animate:!1,randomize:!0})}},{key:"onPlay",value:function(){this.setState({gameStarted:!0,gameEnded:!1}),this.generateMatrix({rows:this.state.rows,columns:this.props.columns,animate:!0,animationWait:10,randomize:!0})}},{key:"generateMatrix",value:function(e){if(e=k["default"].extend({rows:3,columns:5,animate:!0,animationWait:100,randomize:!0},e),this.Netwalk=new p["default"],e.animate)this.Netwalk.generateMatrixAsync(e.rows,e.columns,function(t){this.setState(k["default"].extend(this.state,{rows:e.rows,matrix:t})),e.randomize&&this.Netwalk.isMatrixReady(t)&&this.Netwalk.randomizeMatrixAsync(t,function(e){this.setState(k["default"].extend(this.state,{matrix:e}))}.bind(this),e.animationWait)}.bind(this),e.animationWait);else{var t=this.Netwalk.generateMatrix(e.rows,e.columns);e.randomize&&(t=this.Netwalk.randomizeMatrix(t)),this.setState(k["default"].extend(this.state,{rows:e.rows,matrix:t}))}}}]);var n=t;return t=(0,P["default"])(t)||t}(l.Component),C={base:{position:"relative"},difficultyContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-start",flexWrap:"wrap",alignItems:"flex-start"},blur:{filter:"blur(3px) grayscale(100%)",WebkitFilter:"blur(3px) grayscale(100%)"}};t["default"]=j,e.exports=t["default"]},202:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var l=u.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=i,n=a,r=!0,u=c=void 0}};n(203);var l=n(5),c=r(l),f=n(205),d=r(f),s=n(159),p=r(s),v=function(e){function t(){o(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}i(t,e),a(t,[{key:"render",value:function(){return c["default"].createElement("div",{className:"NetwalkUI"},this.renderNodes())}},{key:"renderNodes",value:function(){var e=this;return this.props.matrix.map(function(t){return c["default"].createElement("div",{className:"NetwalkUI-row"},t.map(function(t){return c["default"].createElement(d["default"],{key:"node"+t.id,id:t.id,type:t.type,connections:t.connections,connected:t.connected,onRotate:e.props.onRotate})}))})}}]);var n=t;return t=(0,p["default"])(t)||t}(l.Component);t["default"]=v,e.exports=t["default"]},203:function(e,t){},205:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var l=u.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=i,n=a,r=!0,u=c=void 0}},l=n(5),c=r(l),f=n(159),d=r(f),s=function(e){function t(){o(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}i(t,e),a(t,[{key:"render",value:function(){return c["default"].createElement("div",{className:"NetwalkUI-node"+(this.props.connected?"--connected":""),onClick:this.rotate.bind(this)},this.props.connections.map(function(e){return c["default"].createElement("div",{className:"NetwalkUI-node-"+e+"link"})}),"computer"===this.props.type?c["default"].createElement("div",{className:"NetwalkUI-node-computer"}):"","server"===this.props.type?c["default"].createElement("div",{className:"NetwalkUI-node-server"}):"")}},{key:"rotate",value:function(){this.props.onRotate(this.props.id)}}]);var n=t;return t=(0,d["default"])(t)||t}(l.Component);t["default"]=s,e.exports=t["default"]},206:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(207);var a=n(208),u=r(a),l=n(232),c=n(238),f=r(c),d=function(){function e(){o(this,e),this.directions=[{name:"up",vector:new l.vector(0,-1)},{name:"down",vector:new l.vector(0,1)},{name:"left",vector:new l.vector(-1,0)},{name:"right",vector:new l.vector(1,0)}];var t=[];t.push({type:"elbow",direction:"upright",connections:["up","right"]}),t.push({type:"elbow",direction:"rightdown",connections:["right","down"]}),t.push({type:"elbow",direction:"downleft",connections:["down","left"]}),t.push({type:"elbow",direction:"leftup",connections:["left","up"]}),t.push({type:"line",direction:"leftright",connections:["left","right"]}),t.push({type:"line",direction:"updown",connections:["up","down"]}),t.push({type:"tee",direction:"leftupright",connections:["left","up","right"]}),t.push({type:"tee",direction:"uprightdown",connections:["up","right","down"]}),t.push({type:"tee",direction:"rightdownleft",connections:["right","down","left"]}),t.push({type:"tee",direction:"downleftup",connections:["down","left","up"]}),t.push({type:"computer",direction:"up",connections:["up"]}),t.push({type:"computer",direction:"right",connections:["right"]}),t.push({type:"computer",direction:"down",connections:["down"]}),t.push({type:"computer",direction:"left",connections:["left"]}),this.figures=t}return i(e,[{key:"isMatrixReady",value:function(e){for(var t in e)for(var n in e[t])if(0===e[t][n].connections.length)return!1;return!0}},{key:"isMatrixRandomized",value:function(e){for(var t in e)for(var n in e[t])if(!e[t][n].randomized)return!1;return!0}},{key:"isMatrixSolved",value:function(e){for(var t in e)for(var n in e[t])if(!e[t][n].connected)return!1;return!0}},{key:"takeStepToBuildMatrix",value:function(e){if(this.isMatrixReady(e))return e;var t=e.length,n=e[0].length,r=this.getServerNode(e);if(!r){var o=f["default"].random(0,n-1),i=f["default"].random(0,t-1);r=f["default"].extend(e[i][o],{type:"server",connected:!0}),e[i][o]=r;var a=this.getNeighborsReadyToConnectTo(r,e);if(a.length>0){var u=a[f["default"].random(a.length-1)];this.getConnectionDirectionBetweenNodes(r,u);e=this.performDoubleSidedConnectBetween(r,u,e)}return e[i][o]=f["default"].extend(e[i][o],{configured:!0}),e}var l=this.getUnclosedNodeConnectedTo(r,e);if(l){var a=this.getNeighborsReadyToConnectTo(l,e);a.length>0&&f["default"].each(a,function(t){this.nodeCanAcceptNewConnections(l,e)&&(e=this.performDoubleSidedConnectBetween(l,t,e))}.bind(this))}return e}},{key:"nodeCanAcceptNewConnections",value:function(e,t){return e.connections.length>=3?!1:!0}},{key:"performDoubleSidedConnectBetween",value:function(e,t,n){var r=this.getConnectionDirectionBetweenNodes(e,t);return n=this.connectNode(e,r,n),n=this.connectNode(t,this.getOppositeDirectionOf(r),n)}},{key:"getNodeTypeOf",value:function(e,t){switch(e.connections.length){case 3:return"tee";case 2:return-1!==f["default"].indexOf(e.connections,"up")&&-1!==f["default"].indexOf(e.connections,"down")||-1!==f["default"].indexOf(e.connections,"left")&&-1!==f["default"].indexOf(e.connections,"right")?"line":"elbow";case 1:return"computer"}}},{key:"connectNode",value:function(e,t,n){var r=e.vector.x,o=e.vector.y,i=f["default"].union([t],e.connections);n[o][r]=e=f["default"].extend(e,{direction:this.getDirectionByConnections(i),connections:i}),n[o][r]=e=f["default"].extend(e,{type:"server"===e.type?"server":this.getNodeTypeOf(e,n)});var a=this.getNeighborsReadyToConnectTo(e,n);return(0===a.length||3===i.length)&&(n[o][r]=e=f["default"].extend(n[o][r],{configured:!0})),n}},{key:"getDirectionByConnections",value:function(e){return-1!==f["default"].indexOf(e,"left")&&-1!==f["default"].indexOf(e,"up")&&-1!==f["default"].indexOf(e,"right")?"leftupright":-1!==f["default"].indexOf(e,"up")&&-1!==f["default"].indexOf(e,"right")&&-1!==f["default"].indexOf(e,"down")?"uprightdown":-1!==f["default"].indexOf(e,"right")&&-1!==f["default"].indexOf(e,"down")&&-1!==f["default"].indexOf(e,"left")?"rightdownleft":-1!==f["default"].indexOf(e,"down")&&-1!==f["default"].indexOf(e,"left")&&-1!==f["default"].indexOf(e,"up")?"downleftup":-1!==f["default"].indexOf(e,"up")&&-1!==f["default"].indexOf(e,"right")?"upright":-1!==f["default"].indexOf(e,"right")&&-1!==f["default"].indexOf(e,"down")?"rightdown":-1!==f["default"].indexOf(e,"down")&&-1!==f["default"].indexOf(e,"left")?"downleft":-1!==f["default"].indexOf(e,"left")&&-1!==f["default"].indexOf(e,"up")?"leftup":-1!==f["default"].indexOf(e,"up")&&-1!==f["default"].indexOf(e,"down")?"updown":-1!==f["default"].indexOf(e,"left")&&-1!==f["default"].indexOf(e,"right")?"leftright":-1!==f["default"].indexOf(e,"up")?"up":-1!==f["default"].indexOf(e,"right")?"right":-1!==f["default"].indexOf(e,"down")?"down":-1!==f["default"].indexOf(e,"left")?"left":void 0}},{key:"getNeighborsOf",value:function(e,t){var n=[];return f["default"].each(this.directions,function(r){var o=this.findNodeByVector(e.vector.add(r.vector),t);o&&n.push(o)}.bind(this)),n}},{key:"getNeighborsReadyToConnectTo",value:function(e,t){var n=[];return e.configured?[]:(f["default"].each(this.directions,function(r){if(-1===f["default"].indexOf(e.connections,r)){var o=this.findNodeByVector(e.vector.add(r.vector),t);!o||o.configured||this.nodesAreIndirectlyConnected(e,o,t)||n.push(o)}}.bind(this)),n)}},{key:"nodesAreIndirectlyConnected",value:function(e,t,n){var r=this.getConnectionDirectionBetweenNodes(e,t);return this.findNodeConnectedTo(e,t,r,n)}},{key:"findNodeConnectedTo",value:function(e,t,n,r){if(e.id===t.id)return!0;var o=this.getConnectedNeighborsOf(e,n,r);if(o.length>0)for(var i in o){var a=o[i],u=this.getConnectionDirectionBetweenNodes(e,a);if(this.findNodeConnectedTo(a,t,this.getOppositeDirectionOf(u),r))return!0}return!1}},{key:"getUnclosedNodeConnectedTo",value:function(e,t){var n=this.getUnclosedNodesConnectedTo(e,null,t),r=void 0;return n.length>0&&(r=n[f["default"].random(n.length-1)]),r}},{key:"getUnclosedNodesConnectedTo",value:function(e,t,n){if(!e.configured)return[e];if(this.getNeighborsReadyToConnectTo(e,n).length>0)return[e];var r=[],o=this.getConnectedNeighborsOf(e,t,n);return f["default"].each(o,function(t){var o=this.getUnclosedNodesConnectedTo(t,this.getConnectionDirectionBetweenNodes(t,e),n);o&&f["default"].each(o,function(e){r.push(e)})}.bind(this)),r}},{key:"nodeHasEmptyNeighbors",value:function(e,t){var n=this.getNeighborsOf(e,t);for(var r in n){var o=n[r];if(0===o.connections.length)return!0}return!1}},{key:"markConfiguredNodes",value:function(e){for(var t in e)for(var n in e[t]){var r=e[t][n];!r.configured&&r.connections.length>0&&!this.nodeHasEmptyNeighbors(r,e)&&(e[t][n]=f["default"].extend(e[t][n],{configured:!0}))}return e}},{key:"initializeMatrix",value:function(e,t){for(var n=new Array(e),r=0;e>r;++r){n[r]=new Array(t);for(var o=0;t>o;++o)n[r][o]={id:u["default"].v4(),type:null,direction:null,connections:[],configured:!1,connected:!1,randomized:!1,vector:new l.vector(o,r)}}return n}},{key:"takeStepToRandomizeMatrix",value:function(e){var t=e.length,n=e[0].length,r=f["default"].random(t-1),o=f["default"].random(n-1),i=e[r][o];if(i.randomized)return this.isMatrixRandomized(e)?e:this.takeStepToRandomizeMatrix(e);for(var a=0;a<=f["default"].random(3);a++)e=this.rotateNode(e[r][o].id,e);return e[r][o].randomized=!0,e}},{key:"randomizeMatrixAsync",value:function(e,t,n){n=n||10;var r=function(o){e=this.takeStepToRandomizeMatrix(e),e=this.getRecalculatedMatrix(e),"function"==typeof t&&t(e),this.isMatrixRandomized(e)||setTimeout(function(){window.requestAnimationFrame(r)},n)}.bind(this);window.requestAnimationFrame(r)}},{key:"randomizeMatrix",value:function(e){for(;!this.isMatrixRandomized(e);)e=this.takeStepToRandomizeMatrix(e),e=this.getRecalculatedMatrix(e);return e}},{key:"generateMatrixAsync",value:function(e,t,n,r){var o=this.initializeMatrix(e,t);r=r||10;var i=function(e){o=this.takeStepToBuildMatrix(o),o=this.markConfiguredNodes(o),o=this.getRecalculatedMatrix(o),"function"==typeof n&&n(o),this.isMatrixReady(o)||setTimeout(function(){window.requestAnimationFrame(i)},r)}.bind(this);window.requestAnimationFrame(i)}},{key:"generateMatrix",value:function(e,t){for(var n=this.initializeMatrix(e,t);!this.isMatrixReady(n);)n=this.takeStepToBuildMatrix(n),n=this.markConfiguredNodes(n),n=this.getRecalculatedMatrix(n);return n}},{key:"rotateNode",value:function(e,t){var n=this.findNodeById(e,t);if(n){var r=n.direction,o="",i=[];switch(r){case"upright":o="rightdown",i=["right","down"];break;case"rightdown":o="downleft",i=["down","left"];break;case"downleft":o="leftup",i=["left","up"];break;case"leftup":o="upright",i=["up","right"];break;case"leftupright":o="uprightdown",i=["up","right","down"];break;case"uprightdown":o="rightdownleft",i=["right","down","left"];break;case"rightdownleft":o="downleftup",i=["down","left","up"];break;case"downleftup":o="leftupright",i=["left","up","right"];break;case"up":o="right",i=["right"];break;case"right":o="down",i=["down"];break;case"down":o="left",i=["left"];break;case"left":o="up",i=["up"];break;case"leftright":o="updown",i=["up","down"];break;case"updown":o="leftright",i=["left","right"]}return t[n.vector.y][n.vector.x].direction=o,t[n.vector.y][n.vector.x].connections=i,t=this.getRecalculatedMatrix(t)}}},{key:"getRecalculatedMatrix",value:function(e){var t=this.getAllNodesConnectedToServer(e);for(var n in e){var r=function(r){var o=e[n][r];"server"===o.type||t.findIndex(function(e){return e.id===o.id})>=0?e[n][r].connected=!0:e[n][r].connected=!1};for(var o in e[n])r(o)}return e}},{key:"getAllNodesConnectedToServer",value:function(e){var t=this.getServerNode(e);return this.getAllNodesConnectedToNode(t,null,e)}},{key:"getAllNodesConnectedToNode",value:function(e,t,n,r){r=r||[];var o=[],i=this.getConnectedNeighborsOf(e,t,n);return i.length>0&&f["default"].each(i,function(t){if(-1===f["default"].indexOf(r,t)){o.push(t);var a=this.getAllNodesConnectedToNode(t,this.getConnectionDirectionBetweenNodes(t,e),n,f["default"].union(r,i));f["default"].each(a,function(e){o.push(e)})}}.bind(this)),o}},{key:"getConnectionDirectionBetweenNodes",value:function(e,t){var n=e.vector.x,r=t.vector.x,o=e.vector.y,i=t.vector.y;return n===r&&i>o?"down":n===r&&o>i?"up":o===i&&r>n?"right":o===i&&n>r?"left":void 0}},{key:"getConnectedNeighborsOf",value:function(e,t,n){var r=[],o=[{name:"up",vector:new l.vector(0,-1)},{name:"down",vector:new l.vector(0,1)},{name:"left",vector:new l.vector(-1,0)},{name:"right",vector:new l.vector(1,0)}];return f["default"].each(o,function(o){if(t!==o.name){var i=this.findNodeByVector(e.vector.add(o.vector),n);i&&this.nodesAreConnected(e,i,n)&&r.push(i)}}.bind(this)),r}},{key:"nodesAreConnected",value:function(e,t,n){var r=Math.abs(e.vector.x-t.vector.x),o=Math.abs(e.vector.y-t.vector.y);if(r>0&&o>0)return!1;var i=e.connections,a=t.connections,u=e.vector.y<t.vector.y,l=e.vector.y>t.vector.y,c=e.vector.y===t.vector.y,f=e.vector.x>t.vector.x,d=e.vector.x<t.vector.x,s=e.vector.x===t.vector.x;return i.findIndex(function(e){return"up"===e})>=0&&a.findIndex(function(e){return"down"===e})>=0&&l&&s?!0:i.findIndex(function(e){return"down"===e})>=0&&a.findIndex(function(e){return"up"===e})>=0&&u&&s?!0:i.findIndex(function(e){return"left"===e})>=0&&a.findIndex(function(e){return"right"===e})>=0&&f&&c?!0:i.findIndex(function(e){return"right"===e})>=0&&a.findIndex(function(e){return"left"===e})>=0&&d&&c?!0:!1}},{key:"getOppositeDirectionOf",value:function(e){switch(e){case"up":return"down";case"down":return"up";case"left":return"right";case"right":return"left"}}},{key:"inBounds",value:function(e,t){var n=t.length;if(0===n)return!1;var r=t[0].length,o=e.x,i=e.y;return o>=0&&i>=0&&r>o&&n>i}},{key:"getServerNode",value:function(e){for(var t in e)for(var n in e[t]){var r=e[t][n];if("server"===r.type)return r}return null}},{key:"findNodeById",value:function(e,t){for(var n in t)for(var r in t[n]){var o=t[n][r];if(o.id===e)return o}console.warn("Failed to find node",t,e)}},{key:"findNodeByVector",value:function(e,t){return this.inBounds(e,t)&&(t[e.y]||t[e.y][e.x])?t[e.y][e.x]:null}}]),e}();t["default"]=d,e.exports=t["default"]},239:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var l=u.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=i,n=a,r=!0,u=c=void 0}},l=n(5),c=r(l),f=n(159),d=r(f),s=n(162),p=r(s),v=function(e){function t(){o(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}i(t,e),a(t,[{key:"render",value:function(){return c["default"].createElement("div",null,c["default"].createElement("div",{style:h.base},c["default"].createElement("button",{style:h.button,onClick:this.props.onPlay},this.props.title)))}}]);var n=t;return t=(0,p["default"])(t)||t,t=(0,d["default"])(t)||t}(l.Component);t["default"]=v;var h={base:{width:"100%",height:"100%",position:"absolute",top:0,left:0,display:"flex",alignItems:"center",justifyContent:"center"
},button:{color:"#8EC170",backgroundColor:"#fff",border:"2px solid #8EC170",fontFamily:'"Helvetica Neue", "Helvetica", "Roboto", "Arial", sans-serif',fontSize:"18px",fontWeight:"500",padding:"10px 10px","@media (min-width: 640px)":{padding:"12px 12px"},":hover":{cursor:"pointer",border:"2px solid #609D3C",color:"#609D3C"}}};e.exports=t["default"]},240:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var l=u.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=i,n=a,r=!0,u=c=void 0}},l=n(5),c=r(l),f=n(159),d=r(f),s=n(162),p=r(s),v=function(e){function t(){o(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}i(t,e),a(t,[{key:"render",value:function(){return c["default"].createElement("div",{style:h.base},c["default"].createElement("span",{style:h.text},"Too easy?"),c["default"].createElement("button",{style:h.button,onClick:this.props.onTrigger},"Add a row"))}}]);var n=t;return t=(0,p["default"])(t)||t,t=(0,d["default"])(t)||t}(l.Component);t["default"]=v;var h={base:{textAlign:"center",padding:"15px 0","@media (min-width: 640px)":{padding:"25px 0"}},text:{color:"#C1C1C1",fontFamily:'"Courier New", "Courier", monospace',fontSize:"18px","@media (min-width: 640px)":{fontSize:"24px"},fontWeight:"100"},button:{backgroundColor:"#fff",border:"1px solid #7B7B7B",color:"#7B7B7B",fontFamily:'"Courier New", "Courier", monospace',fontSize:"18px","@media (min-width: 640px)":{fontSize:"24px"},fontWeight:"100",marginLeft:"15px",padding:"2px 5px",":hover":{border:"1px solid #B3B3B3",color:"#B3B3B3",cursor:"pointer"},":focus":{outline:0}}};e.exports=t["default"]},241:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var l=u.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=i,n=a,r=!0,u=c=void 0}},l=n(5),c=r(l),f=n(159),d=r(f),s=n(162),p=r(s),v=function(e){function t(){o(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}i(t,e),a(t,[{key:"render",value:function(){return c["default"].createElement("div",{style:h.base},c["default"].createElement("button",{style:h.button,onClick:this.props.onTrigger},c["default"].createElement("span",{style:h.short_text},"Remove"),c["default"].createElement("span",{style:h.long_text},"Remove a row")))}}]);var n=t;return t=(0,p["default"])(t)||t,t=(0,d["default"])(t)||t}(l.Component);t["default"]=v;var h={base:{textAlign:"center",padding:"15px 0","@media (min-width: 640px)":{padding:"25px 0"}},text:{color:"#C1C1C1",fontFamily:'"Courier New", "Courier", monospace',fontSize:"18px","@media (min-width: 640px)":{fontSize:"24px"},fontWeight:"100"},button:{backgroundColor:"#fff",border:"1px solid #7B7B7B",color:"#7B7B7B",fontFamily:'"Courier New", "Courier", monospace',fontSize:"18px","@media (min-width: 640px)":{fontSize:"24px"},fontWeight:"100",marginLeft:"15px",padding:"2px 5px",":hover":{border:"1px solid #B3B3B3",color:"#B3B3B3",cursor:"pointer"},":focus":{outline:0}},short_text:{"@media (min-width: 640px)":{display:"none"}},long_text:{"@media (max-width: 639px)":{display:"none"}}};e.exports=t["default"]},242:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var l=u.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=i,n=a,r=!0,u=c=void 0}},l=n(5),c=r(l),f=n(159),d=r(f),s=n(162),p=r(s),v=function(e){function t(){o(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}i(t,e),a(t,[{key:"render",value:function(){return c["default"].createElement("div",{style:{width:"100%",height:"100%",opacity:this.props.opacity,backgroundColor:"#fff",position:"absolute",top:0,left:0}})}}],[{key:"propTypes",value:{opacity:l.PropTypes.number},enumerable:!0},{key:"defaultProps",value:{opacity:.9},enumerable:!0}]);var n=t;return t=(0,p["default"])(t)||t,t=(0,d["default"])(t)||t}(l.Component);t["default"]=v;e.exports=t["default"]},243:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;r=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var l=u.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=i,n=a,r=!0,u=c=void 0}},l=n(5),c=r(l),f=n(199),d=r(f),s=n(159),p=r(s),v=n(162),h=r(v),y=function(e){function t(){o(this,n),u(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,arguments)}i(t,e),a(t,[{key:"render",value:function(){return c["default"].createElement(d["default"],null,c["default"].createElement("strong",null,"How to play:")," Click on a tile to rotate it clockwise. Your goal is to connect all tiles to the server.")}}]);var n=t;return t=(0,h["default"])(t)||t,t=(0,p["default"])(t)||t}(l.Component);t["default"]=y,e.exports=t["default"]}});
//# sourceMappingURL=app.908fe3143ec89af6e911.js.map?